{
    "id": "objectstorage",
    "command": "tablelist",
    "type": "table_display",
    
    "i18n": {
        "en": {
            "objectstorage_name_raw": "Name",
            "objectstorage_description": "Description",
            "objectstorage_disk": "Size (GB)",
            "objectstorage_datetime": "Date created"
        },
        
        "hi": {
            "objectstorage_name_raw": "Name",
            "objectstorage_description": "Description",
            "objectstorage_disk": "OS Disk (GB)",
            "objectstorage_datetime": "Date created"
        },
        
        "ja": {
            "objectstorage_name_raw": "Name",
            "objectstorage_description": "Description",
            "objectstorage_disk": "OS Disk (GB)",
            "objectstorage_datetime": "Date created"
        },
        
        "zh": {
            "objectstorage_name_raw": "Name",
            "objectstorage_description": "Description",
            "objectstorage_disk": "OS Disk (GB)",
            "objectstorage_datetime": "Date created"
        }
        },
    
    "tabledef": {
        "popupform": {
        "rolelist": {
            "*":[
                {"id": "deletebucket", "label": "{{{i18n.objectstorageDelete}}}", "logo": "img/deletevm.svg"}
            ]
        }
        },
    
        "style": "div#tablebottombar{display: none;}",
    
        "i18nPrefix": "objectstorage",
    
        "onclickrow_html": [
            "<style>div#onclick_html{background-color: #F8F8F8; width: auto;} div#close{display: none !important}</style>",
            "<style>div#onclickrow_html{height: 3.5em;} div#body{background-color: #F8F8F8 !important}</style>",
            "<style>div#buttons{margin: 0 !important; justify-content: space-between !important; height: 100% !important; gap: 3em !important;}</style>",
            "<style>div#button{height: 100% !important; max-height: 100% !important; margin: 0 !important; color: #BC5205 !important; width: 5em !important; font-size: 0.8em !important;}</style>",
            "<style>div#button img {width: 3em !important; height: 3em !important;}</style>"
        ],
    
        "clickrow_javascript": [
            "const data = arguments[0]; APP_CONSTANTS.ENV._objectstorage_form_data = data;"
        ],
    
        "load_javascript": [
            "const buckets = await $$.libapimanager.rest(APP_CONSTANTS.API_KLOUDUSTCMD, 'POST', {",
                "cmd: `listBucketsForOrgOrProject \"${$$.libsession.get(APP_CONSTANTS.USERORG)}\" \"${$$.libsession.get(APP_CONSTANTS.ACTIVE_PROJECT)}\" \"${APP_CONSTANTS.VM_TYPE_VM}\"`, ",
                "project: $$.libsession.get(APP_CONSTANTS.ACTIVE_PROJECT)}, true);",
            "for (const bucket of buckets.buckets) {bucket.datetime = new Date(bucket.timestamp).toLocaleDateString(); bucket.name_raw = bucket.name; bucket.disk = bucket.size;}",
            "const modIconList = await import(`${APP_CONSTANTS.FORM_MODULES_PATH}/iconlist.mjs`), tabledef = arguments[0];",
            "const html = await modIconList.iconlist.getHTML(tabledef.popupform, monkshu_env.apps[APP_CONSTANTS.APP_NAME].cmdmanager);",
            "tabledef.onclickrow_html.push(html);",
            "return {keys: ['name_raw','description','disk','datetime'], table: buckets.buckets};"
        ]
    }
    }